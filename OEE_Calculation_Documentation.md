# ЁЯУЛ р╣Ар╕нр╕Бр╕кр╕▓р╕гр╕Бр╕▓р╕гр╕Др╕│р╕Щр╕зр╕У OEE

р╣Гр╕Щр╕лр╕Щр╣Йр╕▓р╕вр╕╖р╕Щр╕вр╕▒р╕Щр╕Ьр╕ер╕Зр╕▓р╕Щ р╕Ыр╕гр╕░р╕Бр╕нр╕Ър╕Фр╣Йр╕зр╕вр╕Бр╕▓р╕гр╕Др╕│р╕Щр╕зр╕У 3 р╕нр╕вр╣Ир╕▓р╕З:
- **Availability** - р╕Др╕зр╕▓р╕бр╕Юр╕гр╣Йр╕нр╕бр╣Гр╕Кр╣Йр╕Зр╕▓р╕Щр╕Вр╕нр╕Зр╣Ар╕Др╕гр╕╖р╣Ир╕нр╕Зр╕Ир╕▒р╕Бр╕г
- **Performance** - р╕Ыр╕гр╕░р╕кр╕┤р╕Чр╕Шр╕┤р╕ар╕▓р╕Юр╕Бр╕▓р╕гр╕Ьр╕ер╕┤р╕Х  
- **Quality** - р╕Др╕╕р╕Ур╕ар╕▓р╕Юр╕Ьр╕ер╕┤р╕Хр╕ар╕▒р╕Ур╕Ср╣М

---

## ЁЯУК р╕кр╕╣р╕Хр╕гр╕Бр╕▓р╕гр╕Др╕│р╕Щр╕зр╕Ур╕лр╕ер╕▒р╕Б

### **1. р╕Бр╕▓р╕гр╕Др╕│р╕Щр╕зр╕Ур╣Ар╕зр╕ер╕▓ (Time Calculations)**

#### **р╣Ар╕зр╕ер╕▓р╕Чр╕│р╕Зр╕▓р╕Щр╕гр╕зр╕б (Total Minutes)**
```javascript
const totalMinutes = Math.floor((endTime - startTime) / (1000 * 60));
```
- **р╕зр╕┤р╕Шр╕╡р╕Др╕┤р╕Ф**: р╕зр╕▒р╕Щр╕Чр╕╡р╣Ир╕кр╕┤р╣Йр╕Щр╕кр╕╕р╕Ф - р╕зр╕▒р╕Щр╕Чр╕╡р╣Ир╣Ар╕гр╕┤р╣Ир╕бр╕Хр╣Йр╕Щ р╣Бр╕Ыр╕ер╕Зр╣Ар╕Ыр╣Зр╕Щр╕Щр╕▓р╕Чр╕╡
- **р╕Хр╕▒р╕зр╕нр╕вр╣Ир╕▓р╕З**: 08:00-17:00 = 9 р╕Кр╕▒р╣Ир╕зр╣Вр╕бр╕З = 540 р╕Щр╕▓р╕Чр╕╡

#### **р╣Ар╕зр╕ер╕▓р╕Юр╕▒р╕Бр╕гр╕зр╕б (Total Break Minutes)**
```javascript
breakMorning + breakLunch + breakEvening
// р╣Ар╕Кр╣Йр╕▓: 15 р╕Щр╕▓р╕Чр╕╡, р╣Ар╕Чр╕╡р╣Ир╕вр╕З: 60 р╕Щр╕▓р╕Чр╕╡, р╣Ар╕вр╣Зр╕Щ: 15 р╕Щр╕▓р╕Чр╕╡
```
- **р╕Юр╕▒р╕Бр╣Ар╕Кр╣Йр╕▓**: 15 р╕Щр╕▓р╕Чр╕╡
- **р╕Юр╕▒р╕Бр╣Ар╕Чр╕╡р╣Ир╕вр╕З**: 60 р╕Щр╕▓р╕Чр╕╡  
- **р╕Юр╕▒р╕Бр╣Ар╕вр╣Зр╕Щ**: 15 р╕Щр╕▓р╕Чр╕╡
- **р╕гр╕зр╕бр╣Ар╕Хр╣Зр╕б**: 90 р╕Щр╕▓р╕Чр╕╡

#### **р╣Ар╕зр╕ер╕▓р╕Ьр╕ер╕┤р╕Хр╕Хр╕▓р╕бр╣Бр╕Ьр╕Щ (Planned Production Time)**
```javascript
const plannedProductionTime = totalMinutes - totalBreakMinutes;
```
- **р╕зр╕┤р╕Шр╕╡р╕Др╕┤р╕Ф**: р╣Ар╕зр╕ер╕▓р╕Чр╕│р╕Зр╕▓р╕Щр╕гр╕зр╕б - р╣Ар╕зр╕ер╕▓р╕Юр╕▒р╕Б
- **р╕Хр╕▒р╕зр╕нр╕вр╣Ир╕▓р╕З**: 540 - 90 = 450 р╕Щр╕▓р╕Чр╕╡

#### **р╣Ар╕зр╕ер╕▓р╣Ар╕Фр╕┤р╕Щр╣Ар╕Др╕гр╕╖р╣Ир╕нр╕Зр╕Ир╕гр╕┤р╕З (Operating Time/Run Time)**
```javascript
const operatingTime = plannedProductionTime - downtimeMinutes;
```
- **р╕зр╕┤р╕Шр╕╡р╕Др╕┤р╕Ф**: р╣Ар╕зр╕ер╕▓р╕Ьр╕ер╕┤р╕Хр╕Хр╕▓р╕бр╣Бр╕Ьр╕Щ - р╣Ар╕зр╕ер╕▓р╕лр╕вр╕╕р╕Фр╣Ар╕Др╕гр╕╖р╣Ир╕нр╕З
- **р╕Хр╕▒р╕зр╕нр╕вр╣Ир╕▓р╕З**: 450 - 30 = 420 р╕Щр╕▓р╕Чр╕╡

---

### **2. р╕Бр╕▓р╕гр╕Др╕│р╕Щр╕зр╕У OEE (Overall Equipment Effectiveness)**

#### **ЁЯЯв Availability (р╕Др╕зр╕▓р╕бр╕Юр╕гр╣Йр╕нр╕бр╣Гр╕Кр╣Йр╕Зр╕▓р╕Щ)**
```javascript
const availability = plannedProductionTime > 0 ? 
    (operatingTime / plannedProductionTime) * 100 : 0;
```
- **р╕кр╕╣р╕Хр╕г**: `(р╣Ар╕зр╕ер╕▓р╣Ар╕Фр╕┤р╕Щр╣Ар╕Др╕гр╕╖р╣Ир╕нр╕Зр╕Ир╕гр╕┤р╕З ├╖ р╣Ар╕зр╕ер╕▓р╕Ьр╕ер╕┤р╕Хр╕Хр╕▓р╕бр╣Бр╕Ьр╕Щ) ├Ч 100`
- **р╕Др╕зр╕▓р╕бр╕лр╕бр╕▓р╕в**: р╣Ар╕Др╕гр╕╖р╣Ир╕нр╕Зр╕Ир╕▒р╕Бр╕гр╕Юр╕гр╣Йр╕нр╕бр╣Гр╕Кр╣Йр╕Зр╕▓р╕Щр╣Др╕Фр╣Йр╣Ар╕Чр╣Ир╕▓р╣Др╕лр╕гр╣Ир╣Ар╕Чр╕╡р╕вр╕Ър╕Бр╕▒р╕Ър╣Ар╕зр╕ер╕▓р╕Чр╕╡р╣Ир╕зр╕▓р╕Зр╣Бр╕Ьр╕Щр╣Др╕зр╣Й
- **р╕Хр╕▒р╕зр╕нр╕вр╣Ир╕▓р╕З**: (420 ├╖ 450) ├Ч 100 = 93.33%

#### **ЁЯФ╡ Performance (р╕Ыр╕гр╕░р╕кр╕┤р╕Чр╕Шр╕┤р╕ар╕▓р╕Юр╕Бр╕▓р╕гр╕Ьр╕ер╕┤р╕Х)**
```javascript
const actualRate = operatingTime > 0 ? (totalPieces / operatingTime) : 0;
const performance = idealRate > 0 ? (actualRate / idealRate) * 100 : 0;
```
- **р╕кр╕╣р╕Хр╕г**: `(р╕нр╕▒р╕Хр╕гр╕▓р╕Бр╕▓р╕гр╕Ьр╕ер╕┤р╕Хр╕Ир╕гр╕┤р╕З ├╖ р╕нр╕▒р╕Хр╕гр╕▓р╕Бр╕▓р╕гр╕Ьр╕ер╕┤р╕Хр╕бр╕▓р╕Хр╕гр╕Рр╕▓р╕Щ) ├Ч 100`
- **р╕нр╕▒р╕Хр╕гр╕▓р╕Бр╕▓р╕гр╕Ьр╕ер╕┤р╕Хр╕Ир╕гр╕┤р╕З**: `р╕Ир╕│р╕Щр╕зр╕Щр╕Ьр╕ер╕┤р╕Хр╕гр╕зр╕б ├╖ р╣Ар╕зр╕ер╕▓р╣Ар╕Фр╕┤р╕Щр╣Ар╕Др╕гр╕╖р╣Ир╕нр╕Зр╕Ир╕гр╕┤р╕З`
- **р╕Др╕зр╕▓р╕бр╕лр╕бр╕▓р╕в**: р╣Ар╕Др╕гр╕╖р╣Ир╕нр╕Зр╕Ир╕▒р╕Бр╕гр╕Ьр╕ер╕┤р╕Хр╣Др╕Фр╣Йр╣Ар╕гр╣Зр╕зр╣Ар╕Чр╣Ир╕▓р╣Др╕лр╕гр╣Ир╣Ар╕Чр╕╡р╕вр╕Ър╕Бр╕▒р╕Ър╕бр╕▓р╕Хр╕гр╕Рр╕▓р╕Щ
- **р╣Ар╕Бр╕Ур╕Ср╣Мр╕Фр╕╡**: тЙе 85%
- **р╕Хр╕▒р╕зр╕нр╕вр╣Ир╕▓р╕З**: 
  - р╕нр╕▒р╕Хр╕гр╕▓р╕Ир╕гр╕┤р╕З: 840 ├╖ 420 = 2.0 р╕Кр╕┤р╣Йр╕Щ/р╕Щр╕▓р╕Чр╕╡
  - Performance: (2.0 ├╖ 2.5) ├Ч 100 = 80%

#### **ЁЯЯб Quality (р╕Др╕╕р╕Ур╕ар╕▓р╕Ю)**
```javascript
const quality = totalPieces > 0 ? (goodPieces / totalPieces) * 100 : 0;
```
- **р╕кр╕╣р╕Хр╕г**: `(р╕Ир╕│р╕Щр╕зр╕Щр╕Вр╕нр╕Зр╕Фр╕╡ ├╖ р╕Ир╕│р╕Щр╕зр╕Щр╕Ьр╕ер╕┤р╕Хр╕гр╕зр╕б) ├Ч 100`
- **р╕Ир╕│р╕Щр╕зр╕Щр╕Вр╕нр╕Зр╕Фр╕╡**: `р╕Ир╕│р╕Щр╕зр╕Щр╕Ьр╕ер╕┤р╕Хр╕гр╕зр╕б - р╕Ир╕│р╕Щр╕зр╕Щр╕Вр╕нр╕Зр╣Ар╕кр╕╡р╕в`
- **р╕Др╕зр╕▓р╕бр╕лр╕бр╕▓р╕в**: р╕Ьр╕ер╕┤р╕Хр╕ар╕▒р╕Ур╕Ср╣Мр╕Чр╕╡р╣Ир╕Ьр╣Ир╕▓р╕Щр╕бр╕▓р╕Хр╕гр╕Рр╕▓р╕Щр╣Ар╕Чр╣Ир╕▓р╣Др╕лр╕гр╣И
- **р╣Ар╕Бр╕Ур╕Ср╣Мр╕Фр╕╡**: тЙе 85%
- **р╕Хр╕▒р╕зр╕нр╕вр╣Ир╕▓р╕З**: (800 ├╖ 840) ├Ч 100 = 95.24%

#### **ЁЯПЖ OEE р╕гр╕зр╕б (Overall OEE)**
```javascript
const oeeTotal = (availability * performance * quality) / 10000;
```
- **р╕кр╕╣р╕Хр╕г**: `(Availability ├Ч Performance ├Ч Quality) ├╖ 10,000`
- **р╕лр╕▓р╕гр╕Фр╣Йр╕зр╕в 10,000**: р╣Ар╕Юр╕гр╕▓р╕░р╣Бр╕Хр╣Ир╕ер╕░р╕Др╣Ир╕▓р╣Ар╕Ыр╣Зр╕Щ % р╣Бр╕ер╣Йр╕з (100├Ч100├Ч100 = 1,000,000 ├╖ 100 = 10,000)
- **р╣Ар╕Бр╕Ур╕Ср╣Мр╕Фр╕╡**: тЙе 85%
- **р╕Хр╕▒р╕зр╕нр╕вр╣Ир╕▓р╕З**: (93.33 ├Ч 80 ├Ч 95.24) ├╖ 10,000 = 71.18%

---

## ЁЯФв р╕Хр╕▒р╕зр╕нр╕вр╣Ир╕▓р╕Зр╕Бр╕▓р╕гр╕Др╕│р╕Щр╕зр╕Ур╣Бр╕Ър╕Ър╕кр╕бр╕Ър╕╣р╕гр╕Ур╣М

### **р╕кр╕бр╕бр╕Хр╕┤р╕Вр╣Йр╕нр╕бр╕╣р╕е:**
- **р╣Ар╕зр╕ер╕▓р╕Чр╕│р╕Зр╕▓р╕Щ**: 08:00-17:00 (9 р╕Кр╕▒р╣Ир╕зр╣Вр╕бр╕З = 540 р╕Щр╕▓р╕Чр╕╡)
- **р╣Ар╕зр╕ер╕▓р╕Юр╕▒р╕Б**: р╣Ар╕Кр╣Йр╕▓ + р╣Ар╕Чр╕╡р╣Ир╕вр╕З + р╣Ар╕вр╣Зр╕Щ = 15 + 60 + 15 = 90 р╕Щр╕▓р╕Чр╕╡
- **р╣Ар╕зр╕ер╕▓р╕лр╕вр╕╕р╕Фр╣Ар╕Др╕гр╕╖р╣Ир╕нр╕З**: 30 р╕Щр╕▓р╕Чр╕╡ (р╣Ар╕Др╕гр╕╖р╣Ир╕нр╕Зр╕Вр╕▒р╕Фр╕Вр╣Йр╕нр╕З)
- **р╕Ьр╕ер╕┤р╕Хр╣Др╕Фр╣Й**: 840 р╕Кр╕┤р╣Йр╕Щ
- **р╕Вр╕нр╕Зр╣Ар╕кр╕╡р╕в**: 40 р╕Кр╕┤р╣Йр╕Щ
- **р╕нр╕▒р╕Хр╕гр╕▓р╕бр╕▓р╕Хр╕гр╕Рр╕▓р╕Щ**: 2.5 р╕Кр╕┤р╣Йр╕Щ/р╕Щр╕▓р╕Чр╕╡

### **р╕Бр╕▓р╕гр╕Др╕│р╕Щр╕зр╕Ур╕Вр╕▒р╣Йр╕Щр╕Хр╕нр╕Щр╕Чр╕╡р╣И 1: р╣Ар╕зр╕ер╕▓**
1. **р╣Ар╕зр╕ер╕▓р╕Чр╕│р╕Зр╕▓р╕Щр╕гр╕зр╕б** = 540 р╕Щр╕▓р╕Чр╕╡
2. **р╣Ар╕зр╕ер╕▓р╕Ьр╕ер╕┤р╕Хр╕Хр╕▓р╕бр╣Бр╕Ьр╕Щ** = 540 - 90 = **450 р╕Щр╕▓р╕Чр╕╡**
3. **р╣Ар╕зр╕ер╕▓р╣Ар╕Фр╕┤р╕Щр╣Ар╕Др╕гр╕╖р╣Ир╕нр╕Зр╕Ир╕гр╕┤р╕З** = 450 - 30 = **420 р╕Щр╕▓р╕Чр╕╡**

### **р╕Бр╕▓р╕гр╕Др╕│р╕Щр╕зр╕Ур╕Вр╕▒р╣Йр╕Щр╕Хр╕нр╕Щр╕Чр╕╡р╣И 2: OEE**
4. **Availability** = (420 ├╖ 450) ├Ч 100 = **93.33%**
5. **р╕нр╕▒р╕Хр╕гр╕▓р╕Ир╕гр╕┤р╕З** = 840 ├╖ 420 = **2.0 р╕Кр╕┤р╣Йр╕Щ/р╕Щр╕▓р╕Чр╕╡**
6. **Performance** = (2.0 ├╖ 2.5) ├Ч 100 = **80.00%**
7. **р╕Ир╕│р╕Щр╕зр╕Щр╕Вр╕нр╕Зр╕Фр╕╡** = 840 - 40 = **800 р╕Кр╕┤р╣Йр╕Щ**
8. **Quality** = (800 ├╖ 840) ├Ч 100 = **95.24%**
9. **OEE р╕гр╕зр╕б** = (93.33 ├Ч 80.00 ├Ч 95.24) ├╖ 10,000 = **71.18%**

### **р╕Бр╕▓р╕гр╕Хр╕╡р╕Др╕зр╕▓р╕бр╕Ьр╕ер╕ер╕▒р╕Юр╕Шр╣М:**
- **Availability (93.33%)**: тнР р╕Фр╕╡р╕бр╕▓р╕Б - р╣Ар╕Др╕гр╕╖р╣Ир╕нр╕Зр╕Юр╕гр╣Йр╕нр╕бр╣Гр╕Кр╣Йр╕Зр╕▓р╕Щ
- **Performance (80.00%)**: тЪая╕П р╕Ыр╕▓р╕Щр╕Бр╕ер╕▓р╕З - р╕Ьр╕ер╕┤р╕Хр╕Кр╣Йр╕▓р╕Бр╕зр╣Ир╕▓р╕бр╕▓р╕Хр╕гр╕Рр╕▓р╕Щ  
- **Quality (95.24%)**: тнР р╕Фр╕╡р╕бр╕▓р╕Б - р╕Др╕╕р╕Ур╕ар╕▓р╕Юр╕кр╕╣р╕З
- **OEE р╕гр╕зр╕б (71.18%)**: тЪая╕П р╕Хр╣Йр╕нр╕Зр╕Ыр╕гр╕▒р╕Ър╕Ыр╕гр╕╕р╕З - р╕Хр╣Ир╕│р╕Бр╕зр╣Ир╕▓р╣Ар╕Ыр╣Йр╕▓р╕лр╕бр╕▓р╕в 85%

---

## ЁЯОи р╣Ар╕Бр╕Ур╕Ср╣Мр╕Бр╕▓р╕гр╣Гр╕лр╣Йр╕кр╕╡р╣Гр╕Щр╕гр╕░р╕Ър╕Ъ

```javascript
if (value >= 85) {
    element.classList.add('bg-success');      // р╣Ар╕Вр╕╡р╕вр╕з - р╕Фр╕╡р╕бр╕▓р╕Б тнР
} else if (value >= 70) {
    element.classList.add('bg-warning');      // р╣Ар╕лр╕ер╕╖р╕нр╕З - р╕Ыр╕▓р╕Щр╕Бр╕ер╕▓р╕З тЪая╕П
} else if (value >= 40) {
    element.classList.add('bg-orange');       // р╕кр╣Йр╕б - р╕Хр╣Йр╕нр╕Зр╕Ыр╕гр╕▒р╕Ър╕Ыр╕гр╕╕р╕З ЁЯФ╢
} else {
    element.classList.add('bg-danger');       // р╣Бр╕Фр╕З - р╕Хр╣Йр╕нр╕Зр╣Бр╕Бр╣Йр╣Др╕Вр╕Фр╣Ир╕зр╕Щ тЭМ
}
```

### **р╕Бр╕▓р╕гр╣Бр╕Ыр╕ер╕Ьр╕ер╕кр╕╡:**
- ЁЯЯв **р╣Ар╕Вр╕╡р╕вр╕з (тЙе85%)**: р╕Фр╕╡р╣Ар╕вр╕╡р╣Ир╕вр╕б - р╕Ър╕гр╕гр╕ер╕╕р╣Ар╕Ыр╣Йр╕▓р╕лр╕бр╕▓р╕в
- ЁЯЯб **р╣Ар╕лр╕ер╕╖р╕нр╕З (70-84%)**: р╕Фр╕╡ - р╣Гр╕Бр╕ер╣Йр╣Ар╕Ыр╣Йр╕▓р╕лр╕бр╕▓р╕в
- ЁЯЯа **р╕кр╣Йр╕б (40-69%)**: р╕Ыр╕▓р╕Щр╕Бр╕ер╕▓р╕З - р╕Хр╣Йр╕нр╕Зр╕Ыр╕гр╕▒р╕Ър╕Ыр╕гр╕╕р╕З
- ЁЯФ┤ **р╣Бр╕Фр╕З (<40%)**: р╣Бр╕вр╣И - р╕Хр╣Йр╕нр╕Зр╣Бр╕Бр╣Йр╣Др╕Вр╕Фр╣Ир╕зр╕Щ

---

## ЁЯУБ р╣Вр╕Др╕гр╕Зр╕кр╕гр╣Йр╕▓р╕Зр╕Рр╕▓р╕Щр╕Вр╣Йр╕нр╕бр╕╣р╕е ProductionResults

### **р╕Яр╕┤р╕ер╕Фр╣Мр╕лр╕ер╕▒р╕Б (р╕Ьр╕╣р╣Йр╣Гр╕Кр╣Йр╕Бр╕гр╕нр╕Б):**
```sql
PlanID                    INT           -- ID р╕Вр╕нр╕Зр╣Бр╕Ьр╕Щр╕Зр╕▓р╕Щ
ActualStartTime           DATETIME      -- р╣Ар╕зр╕ер╕▓р╣Ар╕гр╕┤р╣Ир╕бр╕Хр╣Йр╕Щр╕Ир╕гр╕┤р╕З
ActualEndTime             DATETIME      -- р╣Ар╕зр╕ер╕▓р╕кр╕┤р╣Йр╕Щр╕кр╕╕р╕Фр╕Ир╕гр╕┤р╕З
BreakMorningMinutes       INT           -- р╣Ар╕зр╕ер╕▓р╕Юр╕▒р╕Бр╣Ар╕Кр╣Йр╕▓ (15 р╕Щр╕▓р╕Чр╕╡)
BreakLunchMinutes         INT           -- р╣Ар╕зр╕ер╕▓р╕Юр╕▒р╕Бр╣Ар╕Чр╕╡р╣Ир╕вр╕З (60 р╕Щр╕▓р╕Чр╕╡)
BreakEveningMinutes       INT           -- р╣Ар╕зр╕ер╕▓р╕Юр╕▒р╕Бр╣Ар╕вр╣Зр╕Щ (15 р╕Щр╕▓р╕Чр╕╡)
StandardRunRate           DECIMAL(8,2)  -- р╕нр╕▒р╕Хр╕гр╕▓р╕Бр╕▓р╕гр╕Ьр╕ер╕┤р╕Хр╕бр╕▓р╕Хр╕гр╕Рр╕▓р╕Щ
TotalPieces               INT           -- р╕Ир╕│р╕Щр╕зр╕Щр╕Ьр╕ер╕┤р╕Хр╕гр╕зр╕б
RejectPieces              INT           -- р╕Ир╕│р╕Щр╕зр╕Щр╕Вр╕нр╕Зр╣Ар╕кр╕╡р╕в
DowntimeMinutes           INT           -- р╣Ар╕зр╕ер╕▓р╕лр╕вр╕╕р╕Фр╣Ар╕Др╕гр╕╖р╣Ир╕нр╕З (р╕Щр╕▓р╕Чр╕╡)
DowntimeReason            TEXT          -- р╕кр╕▓р╣Ар╕лр╕Хр╕╕р╕Бр╕▓р╕гр╕лр╕вр╕╕р╕Фр╣Ар╕Др╕гр╕╖р╣Ир╕нр╕З
```

### **р╕Яр╕┤р╕ер╕Фр╣Мр╕Др╕│р╕Щр╕зр╕У (р╕гр╕░р╕Ър╕Ър╕Др╕│р╕Щр╕зр╕У):**
```sql
PlannedWorkMinutes        INT           -- р╣Ар╕зр╕ер╕▓р╕Чр╕│р╕Зр╕▓р╕Щр╕Хр╕▓р╕бр╣Бр╕Ьр╕Щ (р╕Щр╕▓р╕Чр╕╡)
ActiveWorkMinutes         INT           -- р╣Ар╕зр╕ер╕▓р╕Чр╕│р╕Зр╕▓р╕Щр╕Ир╕гр╕┤р╕З (р╕Щр╕▓р╕Чр╕╡)
OEE_Availability          DECIMAL(5,2)  -- Availability (%)
OEE_Performance           DECIMAL(5,2)  -- Performance (%)
OEE_Quality               DECIMAL(5,2)  -- Quality (%)
OEE_Overall               DECIMAL(5,2)  -- OEE р╕гр╕зр╕б (%)
ActualRunRate             DECIMAL(8,2)  -- р╕нр╕▒р╕Хр╕гр╕▓р╕Бр╕▓р╕гр╕Ьр╕ер╕┤р╕Хр╕Ир╕гр╕┤р╕З
```

### **Computed Columns (р╕Др╕│р╕Щр╕зр╕Ур╣Вр╕Фр╕вр╕Рр╕▓р╕Щр╕Вр╣Йр╕нр╕бр╕╣р╕е):**
```sql
GoodQuantity = TotalPieces - RejectPieces
WorkingHours = (ActualEndTime - ActualStartTime) / 60.0
TotalBreakMinutes = BreakMorningMinutes + BreakLunchMinutes + BreakEveningMinutes
```

---

## тЪЩя╕П р╕Яр╕▒р╕Зр╕Бр╣Мр╕Кр╕▒р╕Щр╕лр╕ер╕▒р╕Бр╣Гр╕Щр╕гр╕░р╕Ър╕Ъ

### **1. р╕Бр╕▓р╕гр╣Ар╕гр╕┤р╣Ир╕бр╕Хр╣Йр╕Щ:**
```javascript
async init() {
    // р╕Фр╕╢р╕З PlanID р╕Ир╕▓р╕Б URL (?id=123)
    const urlParams = new URLSearchParams(window.location.search);
    this.taskId = urlParams.get('id');
    
    // р╣Вр╕лр╕ер╕Фр╕Вр╣Йр╕нр╕бр╕╣р╕ер╣Бр╕ер╕░р╕Хр╕▒р╣Йр╕Зр╕Др╣Ир╕▓
    await this.loadTaskData();
    this.setupEventListeners();
    this.initializeCalculations();
}
```

### **2. р╕Бр╕▓р╕гр╣Ар╕Хр╕┤р╕бр╕Вр╣Йр╕нр╕бр╕╣р╕ер╕нр╕▒р╕Хр╣Вр╕Щр╕бр╕▒р╕Хр╕┤:**
```javascript
fillCurrentStartDateTime() {
    const now = new Date();
    const currentDate = now.toISOString().slice(0, 10);  // YYYY-MM-DD
    const currentTime = now.toTimeString().slice(0, 5);   // HH:MM
    
    // р╣Ар╕Хр╕┤р╕бр╣Ар╕Йр╕Юр╕▓р╕░р╕Кр╣Ир╕нр╕Зр╣Ар╕зр╕ер╕▓р╣Ар╕гр╕┤р╣Ир╕бр╕Хр╣Йр╕Щ
    if (!startDateEl.value) startDateEl.value = currentDate;
    if (!startTimeEl.value) startTimeEl.value = currentTime;
}
```

### **3. р╕Бр╕▓р╕гр╕Др╕│р╕Щр╕зр╕Ур╕лр╕ер╕▒р╕Б:**
```javascript
calculateOEE() {
    // р╕Др╕│р╕Щр╕зр╕У Availability
    const availability = plannedProductionTime > 0 ? 
        (operatingTime / plannedProductionTime) * 100 : 0;
    
    // р╕Др╕│р╕Щр╕зр╕У Performance
    const actualRate = operatingTime > 0 ? (totalPieces / operatingTime) : 0;
    const performance = idealRate > 0 ? (actualRate / idealRate) * 100 : 0;
    
    // р╕Др╕│р╕Щр╕зр╕У Quality
    const goodPieces = totalPieces - rejectPieces;
    const quality = totalPieces > 0 ? (goodPieces / totalPieces) * 100 : 0;
    
    // р╕Др╕│р╕Щр╕зр╕У OEE р╕гр╕зр╕б
    const oeeTotal = (availability * performance * quality) / 10000;
    
    // р╕нр╕▒р╕Ыр╣Ар╕Фр╕Хр╕Бр╕▓р╕гр╣Бр╕кр╕Фр╕Зр╕Ьр╕ер╣Бр╕ер╕░р╕кр╕╡
    this.updateOEEDisplay(availability, performance, quality, oeeTotal);
}
```

### **4. р╕Бр╕▓р╕гр╕кр╣Ир╕Зр╕Вр╣Йр╕нр╕бр╕╣р╕е:**
```javascript
async handleFormSubmit(event) {
    // р╕Хр╕гр╕зр╕Ир╕кр╕нр╕Ър╕Вр╣Йр╕нр╕бр╕╣р╕е
    if (!this.validateForm()) return;
    
    // р╕гр╕зр╕Ър╕гр╕зр╕бр╕Вр╣Йр╕нр╕бр╕╣р╕е
    const formData = this.collectFormData();
    
    // р╕кр╣Ир╕Зр╣Др╕Ы API
    const response = await fetch('tasks.php?action=save_production_result', {
        method: 'POST',
        headers: { 'Content-Type': 'application/json' },
        body: JSON.stringify(formData)
    });
}
```

---

## ЁЯФН р╕Бр╕▓р╕г Debug р╣Бр╕ер╕░ Troubleshooting

### **Console Logs р╕кр╕│р╕Др╕▒р╕Н:**
```javascript
console.log('=== FORM SUBMIT DEBUG ===');
console.log('PlanID:', formData.PlanID, 'Type:', typeof formData.PlanID);
console.log('Availability:', availability.toFixed(2) + '%');
console.log('Performance:', performance.toFixed(2) + '%');
console.log('Quality:', quality.toFixed(2) + '%');
console.log('OEE Total:', oeeTotal.toFixed(2) + '%');
```

---

## ЁЯУИ р╕Бр╕▓р╕гр╕Ыр╕гр╕▒р╕Ър╕Ыр╕гр╕╕р╕Зр╣Бр╕ер╕░р╕Бр╕▓р╕гр╕Ыр╕гр╕▒р╕Ър╣Бр╕Хр╣Ир╕З

### **1. р╕Ыр╕гр╕▒р╕Ър╣Ар╕Бр╕Ур╕Ср╣Мр╕Бр╕▓р╕гр╣Гр╕лр╣Йр╕кр╕╡:**
```javascript
// р╣Гр╕Щ updateBadgeColor()
if (value >= 90) {        // р╣Ар╕Ыр╕ер╕╡р╣Ир╕вр╕Щр╕Ир╕▓р╕Б 85 р╣Ар╕Ыр╣Зр╕Щ 90
    element.classList.add('bg-success');
} else if (value >= 75) { // р╣Ар╕Ыр╕ер╕╡р╣Ир╕вр╕Щр╕Ир╕▓р╕Б 70 р╣Ар╕Ыр╣Зр╕Щ 75
    element.classList.add('bg-warning');
}
```

### **2. р╕Ыр╕гр╕▒р╕Ър╣Ар╕зр╕ер╕▓р╕Юр╕▒р╕Б:**
```javascript
const breakTimes = { 
    'morning': 15, 
    'lunch': 60, 
    'evening': 15
};
```


### **4. р╕Ыр╕гр╕▒р╕Ър╕кр╕╣р╕Хр╕г OEE (р╕Цр╣Йр╕▓р╕Хр╣Йр╕нр╕Зр╕Бр╕▓р╕г):**
```javascript
// р╕кр╕╣р╕Хр╕гр╕бр╕▓р╕Хр╕гр╕Рр╕▓р╕Щ
const oeeTotal = (availability * performance * quality) / 10000;

// р╕кр╕╣р╕Хр╕гр╣Бр╕Ър╕Ъ Weighted (р╕Цр╣Ир╕зр╕Зр╕Щр╣Йр╕│р╕лр╕Щр╕▒р╕Б)
const oeeWeighted = (availability * 0.4 + performance * 0.4 + quality * 0.2);
```

---

## ЁЯЪА р╕Бр╕▓р╕гр╣Гр╕Кр╣Йр╕Зр╕▓р╕Щр╣Бр╕ер╕░ Integration

### **р╕Бр╕▓р╕гр╣Ар╕гр╕╡р╕вр╕Бр╣Гр╕Кр╣Й:**
```javascript
// р╣Ар╕гр╕┤р╣Ир╕бр╕Хр╣Йр╕Щр╕гр╕░р╕Ър╕Ъ
const manager = new ConfirmCompleteManager();
manager.init();

// р╕вр╕╖р╕Щр╕вр╕▒р╕Щр╕Зр╕▓р╕Щр╕Ир╕▓р╕Бр╕лр╕Щр╣Йр╕▓р╕нр╕╖р╣Ир╕Щ
await confirmTaskCompletion(planId);
```

### **API Endpoint:**
```
POST /tasks.php?action=save_production_result
Content-Type: application/json

Body Example:
{
    "PlanID": 123,
    "ActualStartTime": "2025-08-04 08:00:00",
    "ActualEndTime": "2025-08-04 17:00:00",
    "BreakMorningMinutes": 15,
    "BreakLunchMinutes": 60,
    "BreakEveningMinutes": 15,
    "StandardRunRate": 2.5,
    "TotalPieces": 840,
    "RejectPieces": 40,
    "DowntimeMinutes": 30,
    "DowntimeReason": "р╣Ар╕Др╕гр╕╖р╣Ир╕нр╕Зр╕Вр╕▒р╕Фр╕Вр╣Йр╕нр╕З"
}
```

---

## тЬЕ р╕Бр╕▓р╕гр╕Хр╕гр╕зр╕Ир╕кр╕нр╕Ър╕Др╕зр╕▓р╕бр╕Цр╕╣р╕Бр╕Хр╣Йр╕нр╕З

**р╕кр╕╣р╕Хр╕гр╕Чр╕▒р╣Йр╕Зр╕лр╕бр╕Фр╣Др╕Фр╣Йр╕гр╕▒р╕Ър╕Бр╕▓р╕гр╕Хр╕гр╕зр╕Ир╕кр╕нр╕Ър╣Бр╕ер╣Йр╕зр╣Бр╕ер╕░р╕Цр╕╣р╕Бр╕Хр╣Йр╕нр╕Зр╕Хр╕▓р╕бр╕бр╕▓р╕Хр╕гр╕Рр╕▓р╕Щ OEE р╕кр╕▓р╕Бр╕е**

- тЬЕ р╕Бр╕▓р╕гр╕Др╕│р╕Щр╕зр╕Ур╣Ар╕зр╕ер╕▓р╕Цр╕╣р╕Бр╕Хр╣Йр╕нр╕З
- тЬЕ Availability = Operating Time ├╖ Planned Production Time ├Ч 100
- тЬЕ Performance = (Actual Rate ├╖ Ideal Rate) ├Ч 100
- тЬЕ Quality = (Good Pieces ├╖ Total Pieces) ├Ч 100
- тЬЕ Overall OEE = (A ├Ч P ├Ч Q) ├╖ 10,000
- тЬЕ Database schema р╣Ар╕Вр╣Йр╕▓р╕Бр╕▒р╕Щр╣Др╕Фр╣Й
- тЬЕ Error handling р╣Бр╕ер╕░ validation р╕Др╕гр╕Ър╕Цр╣Йр╕зр╕Щ
- тЬЕ р╕Бр╕▓р╕гр╣Ар╕Хр╕┤р╕бр╕зр╕▒р╕Щр╕Чр╕╡р╣И-р╣Ар╕зр╕ер╕▓р╕нр╕▒р╕Хр╣Вр╕Щр╕бр╕▒р╕Хр╕┤

---

*р╣Ар╕нр╕Бр╕кр╕▓р╕гр╕Щр╕╡р╣Йр╕Ир╕▒р╕Фр╕Чр╕│р╕Вр╕╢р╣Йр╕Щр╣Ар╕Юр╕╖р╣Ир╕нр╕Бр╕▓р╕гр╕нр╣Йр╕▓р╕Зр╕нр╕┤р╕Зр╣Бр╕ер╕░р╕Бр╕▓р╕гр╕Ыр╕гр╕▒р╕Ър╕Ыр╕гр╕╕р╕Зр╕гр╕░р╕Ър╕Ър╣Гр╕Щр╕нр╕Щр╕▓р╕Др╕Х*  
*р╕нр╕▒р╕Ыр╣Ар╕Фр╕Хр╕Др╕гр╕▒р╣Йр╕Зр╕ер╣Ир╕▓р╕кр╕╕р╕Ф: 4 р╕кр╕┤р╕Зр╕лр╕▓р╕Др╕б 2025*  
*р╣Ар╕зр╕нр╕гр╣Мр╕Кр╕▒р╕Щ: 2.0*
